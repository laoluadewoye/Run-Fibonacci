{
    "name": "use-case-1-app",
    "services": {
        "server-stage-1": {
            "hostname": "server-stage-1.fibonaccitest.com",
            "extra_hosts": [
                "server-stage-1.fibonaccitest.com=172.19.0.11",
                "server-stage-2.fibonaccitest.com=172.19.0.12",
                "server-stage-3.fibonaccitest.com=172.19.0.13"
            ],
            "image": "docker.io/laoluade/run-fibonacci:1.0.1",
            "restart": "unless-stopped",
            "environment": {
                "SERVER_STAGE_COUNT": 3,
                "SERVER_STAGE_INDEX": 1,
                "SELF_ADDRESS": "172.19.0.11",
                "SELF_PORT": 8080,
                "SECRET_KEY_TARGET": "/run/secrets/self.key",
                "SECRET_CERT_TARGET": "/run/secrets/self.crt",
                "SECRET_CA_CERT_TARGET": "/run/secrets/ca.crt",
                "DEST_ADDRESS": "server-stage-2.fibonaccitest.com",
                "DEST_PORT": 8080,
                "THROTTLE_INTERVAL": 5,
                "UPPER_BOUND": 4000000000
            },
            "secrets": [
                {
                    "source": "server-stage-1-key",
                    "target": "/run/secrets/self.key"
                },
                {
                    "source": "server-stage-1-crt",
                    "target": "/run/secrets/self.crt"
                },
                {
                    "source": "ca-crt",
                    "target": "/run/secrets/ca.crt"
                }
            ],
            "networks": {
                "run-fib-one": {
                    "ipv4_address": "172.19.0.11"
                }
            },
            "ports": [
                "8080:8080"
            ]
        },
        "server-stage-2": {
            "hostname": "server-stage-2.fibonaccitest.com",
            "extra_hosts": [
                "server-stage-1.fibonaccitest.com=172.19.0.11",
                "server-stage-2.fibonaccitest.com=172.19.0.12",
                "server-stage-3.fibonaccitest.com=172.19.0.13"
            ],
            "image": "docker.io/laoluade/run-fibonacci:1.0.1",
            "restart": "unless-stopped",
            "environment": {
                "SERVER_STAGE_COUNT": 3,
                "SERVER_STAGE_INDEX": 2,
                "SELF_ADDRESS": "172.19.0.12",
                "SELF_PORT": 8080,
                "SECRET_KEY_TARGET": "/run/secrets/self.key",
                "SECRET_CERT_TARGET": "/run/secrets/self.crt",
                "SECRET_CA_CERT_TARGET": "/run/secrets/ca.crt",
                "DEST_ADDRESS": "server-stage-3.fibonaccitest.com",
                "DEST_PORT": 8080,
                "THROTTLE_INTERVAL": 5,
                "UPPER_BOUND": 4000000000
            },
            "secrets": [
                {
                    "source": "server-stage-2-key",
                    "target": "/run/secrets/self.key"
                },
                {
                    "source": "server-stage-2-crt",
                    "target": "/run/secrets/self.crt"
                },
                {
                    "source": "ca-crt",
                    "target": "/run/secrets/ca.crt"
                }
            ],
            "networks": {
                "run-fib-one": {
                    "ipv4_address": "172.19.0.12"
                }
            }
        },
        "server-stage-3": {
            "hostname": "server-stage-3.fibonaccitest.com",
            "extra_hosts": [
                "server-stage-1.fibonaccitest.com=172.19.0.11",
                "server-stage-2.fibonaccitest.com=172.19.0.12",
                "server-stage-3.fibonaccitest.com=172.19.0.13"
            ],
            "image": "docker.io/laoluade/run-fibonacci:1.0.1",
            "restart": "unless-stopped",
            "environment": {
                "SERVER_STAGE_COUNT": 3,
                "SERVER_STAGE_INDEX": 3,
                "SELF_ADDRESS": "172.19.0.13",
                "SELF_PORT": 8080,
                "SECRET_KEY_TARGET": "/run/secrets/self.key",
                "SECRET_CERT_TARGET": "/run/secrets/self.crt",
                "SECRET_CA_CERT_TARGET": "/run/secrets/ca.crt",
                "DEST_ADDRESS": "server-stage-1.fibonaccitest.com",
                "DEST_PORT": 8080,
                "THROTTLE_INTERVAL": 5,
                "UPPER_BOUND": 4000000000
            },
            "secrets": [
                {
                    "source": "server-stage-3-key",
                    "target": "/run/secrets/self.key"
                },
                {
                    "source": "server-stage-3-crt",
                    "target": "/run/secrets/self.crt"
                },
                {
                    "source": "ca-crt",
                    "target": "/run/secrets/ca.crt"
                }
            ],
            "networks": {
                "run-fib-one": {
                    "ipv4_address": "172.19.0.13"
                }
            }
        }
    },
    "networks": {
        "run-fib-one": {
            "name": "run-fib-one",
            "driver": "bridge",
            "ipam": {
                "config": [
                    {
                        "subnet": "172.19.0.0/16",
                        "ip_range": "172.19.0.0/24",
                        "gateway": "172.19.0.1"
                    }
                ]
            }
        }
    },
    "secrets": {
        "ca-crt": {
            "file": "D:\\Coding Stuff\\Python Projects\\Run Fibonacci\\use_case_one/output/ca.crt"
        },
        "server-stage-1-key": {
            "file": "D:\\Coding Stuff\\Python Projects\\Run Fibonacci\\use_case_one/output/server-stage-1.key"
        },
        "server-stage-1-crt": {
            "file": "D:\\Coding Stuff\\Python Projects\\Run Fibonacci\\use_case_one/output/server-stage-1.crt"
        },
        "server-stage-2-key": {
            "file": "D:\\Coding Stuff\\Python Projects\\Run Fibonacci\\use_case_one/output/server-stage-2.key"
        },
        "server-stage-2-crt": {
            "file": "D:\\Coding Stuff\\Python Projects\\Run Fibonacci\\use_case_one/output/server-stage-2.crt"
        },
        "server-stage-3-key": {
            "file": "D:\\Coding Stuff\\Python Projects\\Run Fibonacci\\use_case_one/output/server-stage-3.key"
        },
        "server-stage-3-crt": {
            "file": "D:\\Coding Stuff\\Python Projects\\Run Fibonacci\\use_case_one/output/server-stage-3.crt"
        }
    }
}